(this["webpackJsonpuser-app"]=this["webpackJsonpuser-app"]||[]).push([[0],{43:function(e,t,a){e.exports=a(74)},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),o=a(8),l=a(17),u=a(9),i={users:[],viewUser:"",isLoggedIn:!1,authError:null,token:"",info:"",status:!1,page:1,email:"",totalPages:0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SUCCESS":case"REGISTER_FAIL":case"SET_LOGIN_STATE":return Object(u.a)(Object(u.a)({},e),t.payload);case"LOGIN_FAIL":return Object(u.a)(Object(u.a)({},e),{},{authError:t.authError});case"LOAD_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case"DELETE_USER":return Object(u.a)({},e);case"LOAD_USER_DATA":return Object(u.a)(Object(u.a)({},e),{},{viewUser:t.userData});case"NEXT_PAGE":case"PREV_PAGE":return Object(u.a)(Object(u.a)({},e),{},{page:t.page});case"TOTAL_PAGES":return Object(u.a)(Object(u.a)({},e),{},{totalPages:t.totalPages});case"LOGOUT":return Object(u.a)({},i);default:return e}},p=a(42),E=a(5),d=a.n(E),b=a(6),f=a(16),v=a.n(f);function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"GET_USERS",pageNo:e}}function h(e){return v.a.post("https://reqres.in/api/login",e)}function g(e){return v.a.post("https://reqres.in/api/register",e)}var j=d.a.mark(N),w=d.a.mark(S);function N(e){var t,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={email:e.email,password:e.password},n.prev=1,n.next=4,h(t);case 4:if(!((a=n.sent).status>=200&&a.status<=299)){n.next=8;break}return n.next=8,Object(b.c)({type:"SET_LOGIN_STATE",payload:Object(u.a)(Object(u.a)({},a.data),{},{isLoggedIn:!0,authError:null,email:e.email})});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,Object(b.c)({type:"LOGIN_FAIL",authError:"Please enter valid email and password"});case 14:case"end":return n.stop()}}),j,null,[[1,10]])}function S(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.e)("USER_FETCH",N);case 2:case"end":return e.stop()}}),w)}var x=d.a.mark(y),_=d.a.mark(T);function y(e){var t,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={email:e.email,password:e.password},n.prev=1,n.next=4,g(t);case 4:if(!((a=n.sent).status>=200&&a.status<=299)){n.next=8;break}return n.next=8,Object(b.c)({type:"REGISTER_SUCCESS",payload:{info:"",status:!0}});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,Object(b.c)({type:"REGISTER_FAIL",payload:{info:"Please fill valid email & password",status:!1}});case 14:case"end":return n.stop()}}),x,null,[[1,10]])}function T(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.e)("USER_REGISTER",y);case 2:e.sent;case 3:case"end":return e.stop()}}),_)}var k=d.a.mark(L),A=d.a.mark(R);function L(e){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.d)((function(e){return e.page}));case 2:return t=e.sent,e.prev=3,e.next=6,n=t,v.a.get("https://reqres.in/api/users?page=".concat(n));case 6:if(!((a=e.sent).status>=200&&a.status<=299)){e.next=13;break}return e.next=10,Object(b.c)({type:"LOAD_USERS",users:a.data.data});case 10:return e.next=13,Object(b.c)({type:"TOTAL_PAGES",totalPages:a.data.total_pages});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(3);case 17:case"end":return e.stop()}var n}),k,null,[[3,15]])}function R(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.e)("GET_USERS",L);case 2:case"end":return e.stop()}}),A)}var I=d.a.mark(D),U=d.a.mark(C);function D(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n=e.userId,v.a.get("https://reqres.in/api/users/".concat(n));case 3:return t=a.sent,a.next=6,Object(b.c)({type:"LOAD_USER_DATA",userData:t.data.data});case 6:a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}var n}),I,null,[[0,8]])}function C(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.e)("USER_DETAILS",D);case 2:case"end":return e.stop()}}),U)}var G=d.a.mark(F),P=d.a.mark(q);function F(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a=e.id,v.a.delete("https://reqres.in/api/users/".concat(a));case 3:return t.sent,t.next=6,Object(b.c)({type:"DELETE_USER"});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}var a}),G,null,[[0,8]])}function q(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.e)("DELETE_USER_DATA",F);case 2:case"end":return e.stop()}}),P)}var X=d.a.mark(J);function J(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)([Object(b.b)(S),Object(b.b)(T),Object(b.b)(R),Object(b.b)(C),Object(b.b)(q)]);case 2:case"end":return e.stop()}}),X)}var V=Object(p.a)(),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,H=a(12),M=a(7),W=a(20),Y=a(19),$=function(e){var t=e.name,a=e.type,n=e.placeholder,c=e.onChange,s=e.className,o=e.id;Object(Y.a)(e,["name","type","placeholder","onChange","className","id"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:o,name:t,type:a,placeholder:n,onChange:c,className:s}))};$.defaultProps={type:"text",className:""};var z=$,K=function(e){var t=Object(o.d)((function(e){return e})).authError,a=Object(o.c)(),c=Object(n.useState)(""),s=Object(W.a)(c,2),l=s[0],i=s[1],m=Object(n.useState)(""),p=Object(W.a)(m,2),E=p[0],d=p[1];Object(n.useEffect)((function(){a({type:"LOGOUT"})}),[]);return r.a.createElement("div",{className:"box-layout"},r.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),e.persist(),a((t={email:l,password:E},Object(u.a)({type:"USER_FETCH"},t)))}},r.a.createElement("h2",{className:"text-center"},"React Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement(z,{id:"inputEmail",type:"email",name:"email",className:"form-control",placeholder:"Email address",onChange:function(e){var t=e.target.value;i(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement(z,{type:"password",name:"password",className:"form-control",id:"inputPassword",placeholder:"Enter password",onChange:function(e){var t=e.target.value;d(t)}})),r.a.createElement("button",{className:"btn btn-primary btn-block"},"Login"),t&&r.a.createElement("p",{className:"info-error"},t)),r.a.createElement("p",{className:"text-center"},r.a.createElement("button",{className:"btn btn-link ml-auto"},r.a.createElement(H.b,{to:"/register"},"Register"))))},Q=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e})),c=a.page,s=a.users,l=a.totalPages;Object(n.useEffect)((function(){t(O())}),[]);return r.a.createElement("div",{className:"dashboard-wrapper"},r.a.createElement("h3",{className:"text-center m-2"},"Dashboard"),r.a.createElement("table",{id:"userTable",className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"))),r.a.createElement("tbody",null,s.length<=0?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",className:"text-center"},"No data Found")):s.map((function(e,t){var a=e.email,n=e.first_name,c=e.last_name,s=e.id;return r.a.createElement("tr",{key:s},r.a.createElement("td",null,r.a.createElement(H.b,{to:"/user/".concat(s)},a)),r.a.createElement("td",null,n),r.a.createElement("td",null,c))})))),r.a.createElement("div",{className:"buttons-wrapper"},r.a.createElement("button",{onClick:function(){t({type:"PREV_PAGE",page:c-1}),t(O())},disabled:c<=1},"<"),r.a.createElement("span",null,c),r.a.createElement("button",{onClick:function(){t({type:"NEXT_PAGE",page:c+1}),t(O())},disabled:c>=l},">")))},Z=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e})),c=a.info,s=a.status,l=Object(n.useState)(""),i=Object(W.a)(l,2),m=i[0],p=i[1],E=Object(n.useState)(""),d=Object(W.a)(E,2),b=d[0],f=d[1];Object(n.useEffect)((function(){t({type:"LOGOUT"})}),[]);return s?r.a.createElement(M.a,{to:"/login"}):r.a.createElement("div",{className:"box-layout"},r.a.createElement("form",{onSubmit:function(e){var a;e.preventDefault(),e.persist(),t((a={email:m,password:b},Object(u.a)({type:"USER_REGISTER"},a)))}},r.a.createElement("h2",{className:"text-center"},"Registration Form"),r.a.createElement("div",{className:"form-group"},r.a.createElement(z,{id:"inputEmail",type:"email",name:"email",className:"form-control",placeholder:"Email address",onChange:function(e){var t=e.target.value;p(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement(z,{type:"password",name:"password",className:"form-control",id:"inputPassword",placeholder:"Enter password",onChange:function(e){var t=e.target.value;f(t)}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mr-4"},"Submit"),r.a.createElement("p",{className:"info-error"},c)))},ee=a(25),te=(a(40),function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e})).viewUser,c=a.avatar,s=a.first_name,l=a.last_name,u=a.email;Object(n.useEffect)((function(){var a=parseInt(e.match.params.id);t({type:"USER_DETAILS",userId:a})}),[]);return a?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-link"},r.a.createElement(H.b,{to:"/dashboard"},"Go to Dashboard")),r.a.createElement("div",{className:"user-details"},r.a.createElement("img",{src:c,width:"180",height:"180"}),r.a.createElement("div",{className:"user-email"},u),r.a.createElement("div",{className:"user-name"},"".concat(s).concat(l)),r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){Object(ee.confirmAlert)({title:"Confirm to delete",message:"Do you want to delete this user details?",buttons:[{label:"Yes",onClick:function(){parseInt(e.match.params.id);t({type:"DELETE_USER_DATA"}),e.history.push("/dashboard")}},{label:"No",onClick:function(){}}]})}},"Delete"))):r.a.createElement("div",{className:"user-details font-weight-bold"},"Loading...")}),ae=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"error-page"},r.a.createElement("div",null,r.a.createElement("b",null,"404")," Page Not Found!!"),r.a.createElement(H.b,{to:"/login"},"Login to view users")))},ne=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.email}));return r.a.createElement("div",{className:"d-flex header"},r.a.createElement("span",{className:"project-name"},"React JS"),r.a.createElement("div",{className:"user-wrapper"},r.a.createElement("span",null,a),r.a.createElement("button",{className:"btn",onClick:function(){Object(ee.confirmAlert)({title:"Confirm to logout",message:"Do you want to logout",buttons:[{label:"Yes",onClick:function(){return t({type:"LOGOUT"})}},{label:"No",onClick:function(){}}]})}},"Logout")))},re=Object(o.b)((function(e){return{isAuthenticated:e.isLoggedIn}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(Y.a)(e,["isAuthenticated","component"]);return r.a.createElement(M.b,Object.assign({},n,{component:function(e){return t?r.a.createElement("div",null,r.a.createElement(ne,null),r.a.createElement(a,e)):r.a.createElement(M.a,{to:"/login"})}}))})),ce=Object(o.b)((function(e){return{isAuthenticated:e.isLoggedIn}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(Y.a)(e,["isAuthenticated","component"]);return r.a.createElement(M.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(M.a,{to:"/dashboard"}):r.a.createElement(a,e)}}))})),se=function(e){return r.a.createElement(H.a,e,r.a.createElement("div",null,r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"/",exact:!0},r.a.createElement(M.a,{to:"/login"})),r.a.createElement(ce,{path:"/login",component:K}),r.a.createElement(re,{path:"/dashboard",component:Q}),r.a.createElement(ce,{path:"/register",component:Z}),r.a.createElement(re,{path:"/user/:id",component:te}),r.a.createElement(M.b,{component:ae}))))},oe=(a(71),function(){var e=Object(l.d)(m,B(Object(l.a)(V)));return V.run(J),e}());var le=function(){return r.a.createElement(o.a,{store:oe},r.a.createElement(se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(72),a(73);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.24a12e4c.chunk.js.map