(this["webpackJsonpuser-app"]=this["webpackJsonpuser-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(44)},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),s=a(3),l=a(12),i=a(4),u={users:[],viewUser:"",isLoggedIn:!1,authError:null,token:"",info:"",status:!1,page:1,email:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SUCCESS":case"REGISTER_FAIL":case"SET_LOGIN_STATE":return Object(i.a)(Object(i.a)({},e),t.payload);case"LOGIN_FAIL":return Object(i.a)(Object(i.a)({},e),{},{authError:t.authError});case"LOAD_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case"DELETE_USER":return Object(i.a)({},e);case"LOAD_USER_DATA":return Object(i.a)(Object(i.a)({},e),{},{viewUser:t.userData});case"NEXT_PAGE":case"PREV_PAGE":return Object(i.a)(Object(i.a)({},e),{},{page:t.page});case"LOGOUT":return Object(i.a)({},u);default:return e}},p=a(26),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,d=a(6),f=a(2),b=a(13),h=a(11),g=function(e){var t=e.name,a=e.type,n=e.placeholder,c=e.onChange,o=e.className,s=e.id;Object(h.a)(e,["name","type","placeholder","onChange","className","id"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:s,name:t,type:a,placeholder:n,onChange:c,className:o}))};g.defaultProps={type:"text",className:""};var O=g,v=function(e){return{type:"LOAD_USERS",users:e}},j=function(e){var t=Object(s.d)((function(e){return e})).authError,a=Object(s.c)(),c=Object(n.useState)(""),o=Object(b.a)(c,2),l=o[0],u=o[1],m=Object(n.useState)(""),p=Object(b.a)(m,2),E=p[0],f=p[1];Object(n.useEffect)((function(){a({type:"LOGOUT"})}),[]);return r.a.createElement("div",{className:"box-layout"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.persist(),a(function(e){var t=e.email;return function(a){return fetch("https://reqres.in/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw Error(e.status)})).then((function(e){a({type:"SET_LOGIN_STATE",payload:Object(i.a)(Object(i.a)({},e),{},{isLoggedIn:!0,authError:null,email:t})})})).catch((function(e){return a({type:"LOGIN_FAIL",authError:"Please enter valid email and password"}),e}))}}({email:l,password:E}))}},r.a.createElement("h2",{className:"text-center"},"React Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement(O,{id:"inputEmail",type:"email",name:"email",className:"form-control",placeholder:"Email address",onChange:function(e){var t=e.target.value;u(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement(O,{type:"password",name:"password",className:"form-control",id:"inputPassword",placeholder:"Enter password",onChange:function(e){var t=e.target.value;f(t)}})),r.a.createElement("button",{className:"btn btn-primary btn-block"},"Login"),t&&r.a.createElement("p",{className:"info-error"},t)),r.a.createElement("p",{className:"text-center"},r.a.createElement("button",{className:"btn btn-link ml-auto"},r.a.createElement(d.b,{to:"/register"},"Register"))))},N=a(27),y=a(28),S=a(30),w=a(29),L=function(e){Object(S.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).prevPage=function(){e.props.prevPage(e.props.page),e.props.GetUsers()},e.nextPage=function(){e.props.nextPage(e.props.page),e.props.GetUsers()},e.renderUsersData=function(){return e.props.usersList.length<=0?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",className:"text-center"},"No data Found")):e.props.usersList.map((function(e,t){var a=e.email,n=e.first_name,c=e.last_name,o=e.id;return r.a.createElement("tr",{key:o},r.a.createElement("td",null,r.a.createElement(d.b,{to:"/user/".concat(o)},a)),r.a.createElement("td",null,n),r.a.createElement("td",null,c))}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.GetUsers()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard-wrapper"},r.a.createElement("h3",{className:"text-center m-2"},"Dashboard"),r.a.createElement("table",{id:"userTable",className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"))),r.a.createElement("tbody",null,this.renderUsersData())),r.a.createElement("div",{className:"buttons-wrapper"},r.a.createElement("button",{onClick:this.prevPage,disabled:!this.props.page},"<"),r.a.createElement("span",null,this.props.page),r.a.createElement("button",{onClick:this.nextPage,disabled:this.props.usersList.length<=0},">")))}}]),a}(r.a.Component),T=Object(s.b)((function(e){return{usersList:e.users,page:e.page}}),(function(e){return{GetUsers:function(t){return e(function(){return function(e,t){var a=t().page;fetch("https://reqres.in/api/users?page=".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=t.data;e(v(a))}))}}(t))},prevPage:function(t){return e({type:"PREV_PAGE",page:t-1})},nextPage:function(t){return e({type:"NEXT_PAGE",page:t+1})}}}))(L),_=function(e){var t=Object(s.c)(),a=Object(s.d)((function(e){return e})),c=a.info,o=a.status,l=Object(n.useState)(""),i=Object(b.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(""),E=Object(b.a)(p,2),d=E[0],h=E[1];Object(n.useEffect)((function(){t({type:"LOGOUT"})}),[]);return o?r.a.createElement(f.a,{to:"/login"}):r.a.createElement("div",{className:"box-layout"},r.a.createElement("form",{onSubmit:function(e){var a;e.preventDefault(),e.persist(),t((a={email:u,password:d},function(e){fetch("https://reqres.in/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw Error(e.status)})).then((function(t){return e(function(e){return{type:"REGISTER_SUCCESS",payload:e}}({info:"",status:!0})),t.error,t})).catch((function(t){return e(function(e){return{type:"REGISTER_FAIL",payload:e}}({info:"Please fill valid email & password",status:!1})),t}))}))}},r.a.createElement("h2",{className:"text-center"},"Registration Form"),r.a.createElement("div",{className:"form-group"},r.a.createElement(O,{id:"inputEmail",type:"email",name:"email",className:"form-control",placeholder:"Email address",onChange:function(e){var t=e.target.value;m(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement(O,{type:"password",name:"password",className:"form-control",id:"inputPassword",placeholder:"Enter password",onChange:function(e){var t=e.target.value;h(t)}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mr-4"},"Submit"),r.a.createElement("p",{className:"info-error"},c)))},C=a(17),A=(a(24),function(e){var t=Object(s.c)(),a=Object(s.d)((function(e){return e})).viewUser,c=a.avatar,o=a.first_name,l=a.last_name,i=a.email;Object(n.useEffect)((function(){var a,n=parseInt(e.match.params.id);t((a=n,function(e){fetch("https://reqres.in/api/users/".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=t.data;e(function(e){return{type:"LOAD_USER_DATA",userData:e}}(a))}))}))}),[]);return a?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-link"},r.a.createElement(d.b,{to:"/dashboard"},"Go to Dashboard")),r.a.createElement("div",{className:"user-details"},r.a.createElement("img",{src:c,width:"180",height:"180"}),r.a.createElement("div",{className:"user-email"},i),r.a.createElement("div",{className:"user-name"},"".concat(o).concat(l)),r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){Object(C.confirmAlert)({title:"Confirm to delete",message:"Do you want to delete this user details?",buttons:[{label:"Yes",onClick:function(){var a=parseInt(e.match.params.id);t(function(e){return function(t){fetch("https://reqres.in/api/users/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){t({type:"DELETE_USER"})}))}}(a)),e.history.push("/dashboard")}},{label:"No",onClick:function(){}}]})}},"Delete"))):r.a.createElement("div",{className:"user-details font-weight-bold"},"Loading...")}),D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"error-page"},r.a.createElement("div",null,r.a.createElement("b",null,"404")," Page Not Found!!"),r.a.createElement(d.b,{to:"/login"},"Login to view users")))},G=function(e){var t=Object(s.c)(),a=Object(s.d)((function(e){return e.email}));return r.a.createElement("div",{className:"d-flex header"},r.a.createElement("span",{className:"project-name"},"React JS"),r.a.createElement("div",{className:"user-wrapper"},r.a.createElement("span",null,a),r.a.createElement("button",{className:"btn",onClick:function(){Object(C.confirmAlert)({title:"Confirm to logout",message:"Do you want to logout",buttons:[{label:"Yes",onClick:function(){return t({type:"LOGOUT"})}},{label:"No",onClick:function(){}}]})}},"Logout")))},P=Object(s.b)((function(e){return{isAuthenticated:e.isLoggedIn}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(h.a)(e,["isAuthenticated","component"]);return r.a.createElement(f.b,Object.assign({},n,{component:function(e){return t?r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement(a,e)):r.a.createElement(f.a,{to:"/login"})}}))})),U=Object(s.b)((function(e){return{isAuthenticated:e.isLoggedIn}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(h.a)(e,["isAuthenticated","component"]);return r.a.createElement(f.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(f.a,{to:"/dashboard"}):r.a.createElement(a,e)}}))})),R=function(e){return r.a.createElement(d.a,e,r.a.createElement("div",null,r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0},r.a.createElement(f.a,{to:"/login"})),r.a.createElement(U,{path:"/login",component:j}),r.a.createElement(P,{path:"/dashboard",component:T}),r.a.createElement(U,{path:"/register",component:_}),r.a.createElement(P,{path:"/user/:id",component:A}),r.a.createElement(f.b,{component:D}))))},k=(a(41),Object(l.d)(m,E(Object(l.a)(p.a))));var I=function(){return r.a.createElement(s.a,{store:k},r.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(42),a(43);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.27104310.chunk.js.map