(this["webpackJsonpuser-app"]=this["webpackJsonpuser-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(44)},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),s=a.n(o),c=a(3),i=a(16),l=a(4),u={users:[],viewUser:"",isLoggedIn:!1,authError:null,token:"",info:"",status:!1,page:1,email:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SUCCESS":case"REGISTER_FAIL":case"SET_LOGIN_STATE":return Object(l.a)(Object(l.a)({},e),t.payload);case"LOGIN_FAIL":return Object(l.a)(Object(l.a)({},e),{},{authError:t.authError});case"LOAD_USERS":return Object(l.a)(Object(l.a)({},e),{},{users:t.users});case"DELETE_USER":return Object(l.a)({},e);case"LOAD_USER_DATA":return Object(l.a)(Object(l.a)({},e),{},{viewUser:t.userData});case"NEXT_PAGE":case"PREV_PAGE":return Object(l.a)(Object(l.a)({},e),{},{page:t.page});case"LOGOUT":return Object(l.a)({},u);default:return e}},m=a(30),d=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,h=a(13),E=a(2),f=a(15),b=a(8),g=a(9),v=a(11),O=a(10),j=function(e){return{type:"LOAD_USERS",users:e}},y=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){t.persist(),e.setState((function(){return Object(f.a)({},t.target.name,t.target.value)}))},e.handleSubmit=function(t){t.preventDefault(),t.persist();var a={email:e.state.email,password:e.state.password};e.props.startLogin(a)},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){var e=this.props,t=e.authError;return e.isLoggedIn?r.a.createElement(E.a,{to:"/dashboard"}):r.a.createElement("div",{className:"box-layout"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h2",{className:"text-center"},"React Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"inputEmail",type:"email",name:"email",className:"form-control",placeholder:"Email address",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"inputPassword",placeholder:"Enter password",onChange:this.handleChange})),r.a.createElement("button",{className:"btn btn-primary btn-block"},"Login"),t&&r.a.createElement("p",{className:"info-error"},t)),r.a.createElement("p",{className:"text-center"},r.a.createElement("button",{className:"btn btn-link ml-auto"},r.a.createElement(h.b,{to:"/register"},"Register"))))}}]),a}(r.a.Component),N=Object(c.b)((function(e){return{authError:e.authError,isLoggedIn:e.isLoggedIn}}),(function(e){return{startLogin:function(t){return e(function(e){var t=e.email;return function(a){return fetch("https://reqres.in/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw Error(e.status)})).then((function(e){a({type:"SET_LOGIN_STATE",payload:Object(l.a)(Object(l.a)({},e),{},{isLoggedIn:!0,authError:null,email:t})})})).catch((function(e){return a({type:"LOGIN_FAIL",authError:"Please enter valid email and password"}),e}))}}(t))},logout:function(){return e({type:"LOGOUT"})}}}))(y),w=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).prevPage=function(){e.props.prevPage(e.props.page),e.props.GetUsers()},e.nextPage=function(){e.props.nextPage(e.props.page),e.props.GetUsers()},e.renderUsersData=function(){return e.props.usersList.length<=0?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",className:"text-center"},"No data Found")):e.props.usersList.map((function(e,t){var a=e.email,n=e.first_name,o=e.last_name,s=e.id;return r.a.createElement("tr",{key:s},r.a.createElement("td",null,r.a.createElement(h.b,{to:"/user/".concat(s)},a)),r.a.createElement("td",null,n),r.a.createElement("td",null,o))}))},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.GetUsers()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard-wrapper"},r.a.createElement("h3",{className:"text-center m-2"},"Dashboard"),r.a.createElement("table",{id:"userTable",className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"))),r.a.createElement("tbody",null,this.renderUsersData())),r.a.createElement("div",{className:"buttons-wrapper"},r.a.createElement("button",{onClick:this.prevPage,disabled:!(this.props.page>1)},"<"),r.a.createElement("span",null,this.props.page),r.a.createElement("button",{onClick:this.nextPage,disabled:this.props.usersList.length<=0},">")))}}]),a}(r.a.Component),L=Object(c.b)((function(e){return{usersList:e.users,page:e.page}}),(function(e){return{GetUsers:function(t){return e(function(){return function(e,t){var a=t().page;fetch("https://reqres.in/api/users?page=".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=t.data;e(j(a))}))}}(t))},prevPage:function(t){return e({type:"PREV_PAGE",page:t-1})},nextPage:function(t){return e({type:"NEXT_PAGE",page:t+1})}}}))(w),S=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){t.persist(),e.setState((function(){return Object(f.a)({},t.target.name,t.target.value)}))},e.handleSubmit=function(t){t.preventDefault(),t.persist();var a={email:e.state.email,password:e.state.password};e.props.registration(a)},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){var e=this.props,t=e.info;return e.status?r.a.createElement(E.a,{to:"/login"}):r.a.createElement("div",{className:"box-layout"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h2",{className:"text-center"},"Registration Form"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"inputEmail",type:"email",name:"email",className:"form-control",placeholder:"Email address",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"inputPassword",placeholder:"Enter password",onChange:this.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mr-4"},"Submit"),r.a.createElement("p",{className:"info-error"},t)))}}]),a}(r.a.Component),C=Object(c.b)((function(e){return{info:e.info,status:e.status}}),(function(e){return{registration:function(t){return e((a=t,function(e){fetch("https://reqres.in/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw Error(e.status)})).then((function(t){return e(function(e){return{type:"REGISTER_SUCCESS",payload:e}}({info:"",status:!0})),t.error,t})).catch((function(t){return e(function(e){return{type:"REGISTER_FAIL",payload:e}}({info:"Please fill valid email & password",status:!1})),t}))}));var a},logout:function(){return e({type:"LOGOUT"})}}}))(S),D=a(20),T=(a(28),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDelete=function(){Object(D.confirmAlert)({title:"Confirm to delete",message:"Do you want to delete this user details?",buttons:[{label:"Yes",onClick:function(){var t=parseInt(e.props.match.params.id);e.props.deleteUserData(t),e.props.history.push("/dashboard")}},{label:"No",onClick:function(){}}]})},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=parseInt(this.props.match.params.id);this.props.getUserDetails(e)}},{key:"render",value:function(){var e=this.props.userData,t=e.avatar,a=e.first_name,n=e.last_name,o=e.email;return this.props.userData?r.a.createElement("div",{className:"user-details"},r.a.createElement("img",{src:t,width:"180",height:"180"}),r.a.createElement("div",{className:"user-email"},o),r.a.createElement("div",{className:"user-name"},"".concat(a).concat(n)),r.a.createElement("button",{className:"btn btn-outline-danger",onClick:this.handleDelete},"Delete")):r.a.createElement("div",{className:"user-details font-weight-bold"},"Loading...")}}]),a}(n.Component)),_=Object(c.b)((function(e){return{userData:e.viewUser}}),(function(e){return{getUserDetails:function(t){return e((a=t,function(e){fetch("https://reqres.in/api/users/".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=t.data;e(function(e){return{type:"LOAD_USER_DATA",userData:e}}(a))}))}));var a},deleteUserData:function(t){return e(function(e){return function(t){fetch("https://reqres.in/api/users/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){t({type:"DELETE_USER"})}))}}(t))}}}))(T),A=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"error-page"},r.a.createElement("div",null,r.a.createElement("b",null,"404")," Page Not Found!!"),r.a.createElement(h.b,{to:"/login"},"Login to view users")))}}]),a}(r.a.Component),k=a(21),U=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){Object(D.confirmAlert)({title:"Confirm to logout",message:"Do you want to logout",buttons:[{label:"Yes",onClick:function(){return e.props.logout()}},{label:"No",onClick:function(){}}]})},e}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex header"},r.a.createElement("span",{className:"project-name"},"React JS"),r.a.createElement("div",{className:"user-wrapper"},r.a.createElement("span",null,this.props.email),r.a.createElement("button",{className:"btn",onClick:this.handleLogout},"Logout")))}}]),a}(r.a.Component),I=Object(c.b)((function(e){return{email:e.email}}),(function(e){return{logout:function(){return e({type:"LOGOUT"})}}}))(U),G=Object(c.b)((function(e){return{isAuthenticated:e.isLoggedIn}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(k.a)(e,["isAuthenticated","component"]);return r.a.createElement(E.b,Object.assign({},n,{component:function(e){return t?r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement(a,e)):r.a.createElement(E.a,{to:"/login"})}}))})),P=Object(c.b)((function(e){return{isAuthenticated:e.isLoggedIn}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(k.a)(e,["isAuthenticated","component"]);return r.a.createElement(E.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(E.a,{to:"/dashboard"}):r.a.createElement(a,e)}}))})),R=function(e){return r.a.createElement(h.a,e,r.a.createElement("div",null,r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/",exact:!0},r.a.createElement(E.a,{to:"/login"})),r.a.createElement(P,{path:"/login",component:N}),r.a.createElement(G,{path:"/dashboard",component:L}),r.a.createElement(P,{path:"/register",component:C}),r.a.createElement(G,{path:"/user/:id",component:_}),r.a.createElement(E.b,{component:A}))))},x=(a(41),Object(i.d)(p,d(Object(i.a)(m.a))));var F=function(){return r.a.createElement(c.a,{store:x},r.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(42),a(43);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.d0dcea1e.chunk.js.map